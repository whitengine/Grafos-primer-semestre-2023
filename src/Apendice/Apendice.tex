%! Author = enzo
%! Date = 19-04-23

% Preamble
\documentclass[../main.tex]{subfiles}

%%puedo crear comandos que solo sirven en este archivo.
%%pero los comando definidos en el main afectan este archivo.
%
%%codigo para imprimir dibujos:
%\newcounter{numeroCapituloApendice}%ponemos un contador que empieza en 0 y que cuenta el número de clase
%
%%creamos una clase, i.e. ponemos un aseccion con el numero de clase y con un argumento obligatorio \Clase{argumento obligatorio} que es la fecha de la clase, por ejemplo 13/03/23.
%\newenvironment{Capitulo}[1]{
%	\stepcounter{numeroCapituloApendice}
%    \chapter{Capitulo \thenumeroCapituloApendice: #1}
%}{}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%Cada dibujo se puede automatizar:
%%1) necesitamos el archivo "Dibujo n.png" en la carpeta "Clase m", donde $n$ es el número del dibujo y $m$ es el número de la clase.
%
%\newcounter{numeroDibujoApendice}[numeroCapituloApendice]
%
%%\renewcommand\thefigure{\thechapter.\arabic{figure}}
%
%%el comando Dibujo tiene dos inputs \Dibujo{input 1}{input 2}, el primer input es el número de dibujo y el segundo es el caption de la figura.
%\NewDocumentCommand{\DibujoApendice}{O{0.8} m}{
%\stepcounter{numeroDibujoApendice}
%\begin{center}
%\includegraphics[width=#1\columnwidth]{"./Apendice/Figuras/Capitulo \thenumeroCapituloApendice /Dibujo \thenumeroDibujoApendice .pdf"}
%\captionof{figure}{#2}
%\end{center}
%}
%



% Document
\begin{document}



\appendix

\chapter{Primera parte de la materia (primer capítulo del Diestel)}

\section[]{Un poco de álgebra lineal}

Sea $G = (V,E)$ un grafo con $n$ vértices y $m$ aristas, digamos $V = \{v_1,\ldots,v_n\}$ y $E = \{e_1,\ldots,e_m\}$.

\begin{definition}
El \textbf{espacio de vértices} $\mathcal{V} (G)$ de $G$, es el $\mathbb{F}_2$-espacio vectorial de todas las funciones $V \rightarrow \mathbb{F}_2$.
\end{definition}
Todo elemento de $\mathcal{V} (G)$ corresponde naturalmente con un subconjunto de $V$, más precisamente con la preimagen de $1$, y más aún todo subconjunto de $V$ se representa de manera única de esta manera por su función indicadora. Con lo cual, podemos identificar a $\mathcal{V} (G)$ con el conjunto de subconjuntos de $V$, i.e. $2^V$; así tenemos un espacio vectorial de los subconjuntos de $V$: la suma esta dada por la deferencia simétrica, $U + U' = U \Delta U'$, y $U = -U$. El cero en este espacio vectorial corresponde con el subconjunto vacío $\emptyset \subset V$. Notar que $\{ \{ v_1 \}, \ldots, \{ v_n\} \}$ es una base de $\mathcal{V} (G)$, llamada la \textbf{base standard}; tenemos entonces que $\dim \mathcal{V} (G) = n$.


\begin{definition}
Análogamente, podemos definir el \textbf{espacio de aristas} $\mathcal{E} (G)$ de $G$, más precisamente, el $\mathbb{F}_2$-espacio vectorial de funciones $E \rightarrow \mathbb{F}_2$.
\end{definition}
Nuevamente, los elementos de $\mathcal{E} (G)$ corresponden con subconjuntos de $E$: tomamos la preimagen de $1$. En este caso, la suma de vectores es la diferencia simétrica de conjuntos de aristas, y el conjunto vacío $\emptyset \subset E$ corresponde con el cero, además $F = -F$ para todo $F \subset E$. La \textbf{base standard} es $\{ \{e_1\},\ldots \{e_m\} \}$, luego $\dim \mathcal{E} (G) = m$.

Dados $F,F' \in \mathcal{E} (G)$, vistos como funciones, podemos definir:
\[
    \langle F, F' \rangle := \sum_{e \in E} F (e) F'(e) \in \mathbb{F}_2.
\]
Esta cantidad es cero si y solo si $F$ y $F'$ tienen una cantidad par de aristas en común, i.e $\abs{F \cap F'} \equiv 0 \mod 2$; en particular, ciertamente puede suceder que $\langle F , F \rangle = 0$ con $F \neq \emptyset$. De todas formas, es simétrico y $\mathbb{F}_2$-bilineal.
De manera usual, para cualquier subespacio $\mathcal{F} \subset \mathcal{E}(G)$ podemos definir el \textbf{subespacio ortogonal}:
\[
    \mathcal{F}^\perp := \Set{D \in \mathcal{E}(G) | \langle F , D \rangle = 0, \\ \forall F \in \mathcal{F}}.
\]
Que es un subespacio. Se tiene que
\begin{equation}\label{eq:formula de la dimension para los subsespacios ortogonales de E(G)}
\dim \mathcal{F} + \dim \mathcal{F}^\perp = m.
\end{equation}

Pues se sigue de la demostración standard, ya que este producto es \textit{no degenerado}, equivalentemente, el morfismo de espacios vectoriales $F \mapsto \langle \cdot, F \rangle$ es inyectivo, luego la ecuación se sigue por álgebra lineal estudiando el espacio dual.

\begin{definition}
El \textbf{espacio de ciclos} $\mathcal{C} = \mathcal{C}(G)$ es el subespacio de $\mathcal{E}(G)$ generado por todos los ciclos de $G$ (pensando a un ciclo como su conjunto de aristas). La dimensión de este espacio se lo llama a veces \textbf{número ciclomático} de $G$.
\end{definition}

\begin{proposition}\label{proposition:apendice - definiciones equivalentes de elemento del subespacio de ciclos}
Las siguientes afirmaciones son equivalentes para conjuntos de aristas $D \subset E$:
\begin{enumerate}[1.]
\item $D \in \mathcal{C} (G)$;
\item $D$ es una unión (posiblemente vacía) disjunta de ciclos en $G$;
\item Todos los grados de los vértices de $(V,D)$ son pares.
\end{enumerate}
\end{proposition}
\begin{proof}
Como los ciclos tienen grados pares y tomar diferencia simétrica preserva esta propiedad, luego 1. implica 3. por inducción en la cantidad de ciclos que generan $D$ con la suma. Que 3. implica 2. se sigue por inducción en $\abs D$: si $D \neq \emptyset$ entonces $(V,D)$ contiene un ciclo por la Proposición \ref{proposition:todo grafo tiene un camino de largo >= delta y ciclo de largo >= delta +1}, borrando las aristas de $C$ podemos proceder inductivamente pues los vértices siguen teniendo grado par. Finalmente la implicación 2. $\Rightarrow$ 1. es inmediata de la definición de $\mathcal{C}(G)$.
\end{proof}

\begin{exercise}
Probar el Ejercicio \ref{exercise:todo grafo G con arbol generador T tiene un subgrafo par que contiene las cuerdas de T} dando una construcción de un subgrafo par $H$ que contenga las cuerdas de $T$.
\end{exercise}
\begin{solution}
Dado $T$, consideremos $H := \sum_{e \in E(G) \setminus E(T)} C_e$ dado por la suma de todos los ciclos fundamentales. Como cada cuerda $e \in E(G) \setminus E(T)$ de $T$ pertenece a un único ciclo fundamental, debe estar en $H$. Como los ciclos estan en $\mathcal C (G)$, y este espacio es cerrado para la suma, $H \in \mathcal C(G)$. Con lo cual, la proposición anterior nos dice que $H$ es un grafo par.
\end{solution}

\begin{definition}
Un conjunto $F$ de aristas se dice un \textbf{corte}\footnote{No vamos a incluir el caso de particiones vacías. Luego la única manera de que el conjunto vacío de aristas sea un corte es que el grafo subyacente sea disconexo.}
 de $G$ si existe una partición $\{V_1,V_2\}$ de $V$ tal que $F = E(V_1,V_2)$. Decimos que las aristas de $F$ \textbf{cortan} esta partición. Los conjuntos $V_1,V_2$ son los \textbf{lados} del corte. A un corte no vacío minimal lo llamamos \textbf{enlace}.
\end{definition}

\begin{proposition}
Junto con el conjunto vacío $\emptyset$, los cortes en $G$ forman un subespacio $\mathcal B = \mathcal B ( G) \subset \mathcal{E}(G)$. Este espacio está generado por los cortes de la forma $E(v)$ (es decir los conjuntos de aristas incidentes a un vértice).
\end{proposition}
\begin{proof}
Sea $\mathcal B$ el subespacio generado por los cortes de la forma $E(v)$ en $\mathcal{E} (G)$. Todo corte de $G$, con partición $\{ V_1 , V_2 \}$, coincide con $\sum_{v \in V_1} E(v)$ y por lo tanto está en $\mathcal{B}$. En efecto, el conjunto $\sum_{v \in V_1} E(v)$ es la diferencia simétrica de los conjuntos $E(v)$, i.e. las aristas que están en un solo $E(v)$, $v  \in V_1$, es decir, las aristas que inciden en un vértice de $V_1$ y que su otro extremo está en $V_2$. Recíprocamente, todo conjunto $\sum_{u \in U}E(u) \in \mathcal{B}$ es vacío, por ejemplo si $U \in \{ \emptyset , V \}$, o es el corte $E(U, V \setminus U)$.
\end{proof}

\begin{definition}
El espacio $\mathcal{B} (G)$ es el \textbf{espacio de cortes}, o el \textbf{espacio de enlaces} de $G$.
\end{definition}

\begin{proposition}\label{proposition:caracterizacion de enlaces en grafos conexos}
Si $G$ es un grafo conexo, los enlaces son los cortes con partición $(V_1, V_2)$ tales que $G[V_1]$ y $G[V_2]$ son conexos. Más aún, si $G$ es disconexo, sus enlaces son los cortes minimales de sus componentes.
\end{proposition}
\begin{proof}
Si $G$ es conexo, entonces los enlaces son justamente sus cortes minimales: un corte en un grafo conexo es minimal si y solo si ambos lados de la partición inducen subgrafos conexos. En efecto, por un lado, dado un corte minimal con bipartición $\{V_1,V_2\}$, induce subgrafos conexos $G[V_1]$, $G[V_2]$, pues de lo contrario, digamos que $G[V_1]$ tiene una componente $C$, se sigue que el corte $E(V_1 \setminus C, V_2 \cup C)$ pierde todas las $C,V_2$ aristas (hay al menos una porque $G$ es conexo), contradiciendo minimalidad.

 Por otro lado, un corte con bipartición $\{V_1,V_2\}$ dada por conjuntos de vértices que inducen subgrafos conexos tiene que ser minimal, de lo contrario, se pueden remover aristas y sigue siendo un corte, y esto sucede porque alguno de los subgrafos inducidos no era conexo.

 Ahora, si $G$ es disconexo, sus enlaces son los cortes minimales de sus componentes conexas, pues unir cortes de cada componente conexa sigue dando un corte, y por lo tanto, un corte no es minimal a menos que esté contenido en una componente.
\end{proof}

\begin{lemma}
Todo corte es la unión disjunta de enlaces.
\end{lemma}
\begin{proof}
Haremos inducción en el tamaño del corte $F$ a considerar. Para $F = \emptyset$ no hay nada que probar. Si $F \neq \emptyset$, y no es un enlace, luego contiene propiamente a algún corte $F'$. Por la proposición anterior, la suma de cortes es un corte (forman un subespacio), es decir $F \setminus F' = F + F'$ es un corte más chico no vacío. Por inducción tenemos que $F'$ y $F \setminus F'$ son ambos unión disjunta de enlaces, y por lo tanto $F$ también.
\end{proof}

\begin{exercise}
Hallar una base de $\mathcal{B}(G)$ dada por conjuntos de aristas de la forma $E(v)$.
\end{exercise}
\begin{solution}
Sabemos que los $E(v), v \in V(G)$ generan $\mathcal{B}(G)$; afirmamos que si $G$ es conexo, entonces para todo $w \in V(G)$ el siguiente conjunto forma una base del subespacio de cortes:
$$
\{ E(v) \}_{v \in V(G) \setminus \{w\}}.
$$
En efecto, el conjunto de generadores de $\mathcal{B}(G)$ es linealmente dependiente porque $\sum_{v \in V(G)} E(v) = \emptyset$, pero si quitamos cualquier vértice se vuelve linealmente independiente, pues que sea linealmente dependiente equivale a que existe un subconjunto $S \subsetneq V(G)$ no vacío tal que
$$
\emptyset = \sum_{v \in S} E(v) = E(S, V(G) \setminus S),
$$
que es imposible si $G$ es conexo.

En general, si $G$ no es conexo escribimos $G = \bigsqcup_i C_i$, donde $C_i$ son sus componentes conexas, luego una base de $\mathcal{B}(G)$ es la unión de las bases de $\mathcal{B}(G_i)$, pues podemos hacer el abuso de notación $\mathcal{B}(G) = \bigoplus_i \mathcal{B}(G_i)$.
\end{solution}



\begin{corollary}
Se sigue que
$$
\dim \mathcal{B} (G) = \sum_{C \text{ componente de $G$}} (\abs{C} -1) = \abs{G} -  \# \{\text{componentes de $G$}\}.
$$
En particular si $G$ es conexo,
\[
    \dim \mathcal{B} (G) = \abs G -1.
\]
\end{corollary}

\begin{exercise}
Construir de manera explícita la partición en enlaces de un corte: sea $F$ un corte en $G$, con partición $\{V_1, V_2\}$. Para $i = 1,2$ escribamos $C_1^i, \ldots, C^i_{k(i)}$ a las componentes conexas de $G[V_i]$. Usar los $C_j^i$ para definir los enlaces que forman una unión disjunta para $F$.
\end{exercise}
\begin{solution}
Vamos a considerar el caso $G$ conexo, pues el caso disconexo directamente escribimos a un corte como la unión disjunta de sus aristas en cada componente. Ahora, si $G$ es conexo consideremos los conjuntos de aristas
$$
E(C_i^1 \cup \bigcup_{C_j^2 \cap N (C_i^1) \neq \emptyset} C_j^2, \bigcup_{C_j^2 \cap N(C_i^1) = \emptyset} C_j^2 \cup \bigcup_{C_k^1 \neq C_i^1} C_{k}^1),
$$
para todo $1 \leq i \leq k(1)$ fijo. Hay que verificar que estos son disjuntos entre si, y su unión da $E(V_1,V_2)$, y además que son enlaces (basta ver que su partición induce subgrafos conexos). En efecto, $E(V_1,V_2)$ está claramente contenido en su unión; recíprocamente, las aristas de $E(C_i^1 \cup N (C_i^1)\cap V_2, *)$ están en $E(V_1,V_2)$ pues hay dos posibilidades: o la arista está en $E(C_i^1, C_j^2)$ con $C_j^2 \cap N (C_i^1) = \emptyset$ o está en $E(C_j^2,C_{i'}^1)$. Por contrucción son enlaces porque cada parte de la partición es un subgrafo inducido conexo, pues la parte $\bigcup_{C_j^2 \cap N(C_i^1) = \emptyset} C_j^2 \cup \bigcup_{C_k^1 \neq C_i^1} C_{k}^1$ tiene que ser conexa porque $G$ lo es y las $C_j^i$ con $i$ fijo no están conectadas entre sí porque son las componentes de $V_i$. Finalmente, tienen que ser claramente disjuntas.
\end{solution}

\begin{theorem}\label{th:apendice subespacio de ciclos y subespacio de cortes son mutuamente ortogonales entre si}
El espacio de ciclos $\mathcal{C}(G)$ y el espacio de cortes $\mathcal{B}(G)$ de cualquier grafo satisfacen
\[
    \mathcal C = \mathcal B^{\perp} \quad \text{y} \quad \mathcal B = \mathcal C^{\perp}.
\]
\end{theorem}
\begin{proof}
Consideremos un grafo $G = (V,E)$. Claramente todo ciclo en $G$ tiene un número par de aristas en cada corte, luego los ciclos son ortogonales a los cortes, es decir
$$
\mathcal{C}(B) \subset \mathcal{B}(G)^\perp \quad \text{y} \quad \mathcal B (G)  \subset \mathcal{C}(G)^\perp.
$$

Para probar $\mathcal{B}(G)^\perp \subset \mathcal C (G)$, hay que usar la anteúltima proposición que caracteriza los vectores del subespacio de ciclos, es decir $F \not \in \mathcal{C}(G)$ si y solo si tiene un vértice incidente con un número impar de aristas en $F$. Luego $\langle E(v), F \rangle = 1$, entonces como $E(v) \in \mathcal{B}(G)$, se sigue que $F \not \in \mathcal{B}(G)^\perp$. Esto termina de probar que $\mathcal C = \mathcal B ^\perp$ en $G$.

Finalmente, para probar $\mathcal C (G)^\perp \subset \mathcal B (G)$, tomemos $F \in \mathcal C (G)^\perp$. Consideremos el \textit{multigrafo} $H$ obtenido a partir de $G$ luego de contraer las aristas de $E \setminus F$. Todo ciclo en $H$ tiene sus aristas en $F$. Como lo podemos extender a un ciclo en $G$ agregando aristas de $E\setminus F$, entonces el número de aristas del ciclo extendido que están en $F$ debe ser par, pues $F \in \mathcal C ^\perp$, y por lo tanto el número de aristas del ciclo en $H$ también. Usando la caracterización de grafos bipartitos, tenemos que $H$ es bipartito. Su partición induce una partición $(V_1,V_2)$ de $V$ (ya que las aristas que habíamos contraído convierten la bipartición en un corte), tal que $E(V_1,V_2) = F$, i.e. $F \in \mathcal{B}(G)$.
\end{proof}



Consideremos ahora un grafo conexo $G = (V,E)$ con un árbol generador $T \subset G$. Para toda cuerda $e \in E \setminus E(T)$ existe un único ciclo $C_e$ en $T+e$, que llamaremos el \textbf{ciclo fundamental} de $e$ con respecto a $T$. Similarmente, para toda arista $f \in T$, el bosque $T \setminus e$ tiene exactamente dos componentes (por la caracterización de árbol \ref{theorem:caracterizacion de arbol}). El conjunto $D_f \subset E$ de aristas de $G$ entre ambas componentes es un \textit{enlace} en $G$ por la Proposición \ref{proposition:caracterizacion de enlaces en grafos conexos}, que llamaremos el \textbf{corte fundamental} de $f$ con respecto de $T$. Es el único corte fundamental que contiene a $f$.

Notar que $f \in C_e$ si y solo si $e \in D_f$, para todo $e \not \in T$ y $f \in T$. En efecto, si $f \in C_e$, quitar $f$ de $T$ parte en dos componentes, que tienen que estar conectadas por la cuerda $e$, ya que todo camino entre ambas componentes pasaba por $f$, luego por $C_e$, y cuando quitamos una arista de un ciclo, los caminos pueden seguir pasando por los vértices de $f$ a través de $e$, i.e. $e \in D_f$. Por otro lado, si $e \in D_f$, entonces el camino $f \cdots e \cdots f$ tiene que ser un ciclo en $G$, porque las aristas de $f \cdots e$ están en una componente y las aristas $e \cdots f$ en otra, así, $f \in C_e$. Esto indica una conexión más profunda de dualidad; el siguiente teorema explora un poco este descubrimiento:

\begin{figure}
\includegraphics[width=\linewidth]{"./Apendice/Figuras/Capitulo 1/Dibujo 1.pdf"}
\caption{Ejemplo: El ciclo fundamental \red{$C_e$}, y el corte fundamental \blue{$D_f$}.}
\end{figure}


\begin{theorem}
Sea $G$ un grafo conexo con $n$ vértices y $m$ aristas, y sea $T \subset G$ un árbol generador.
\begin{enumerate}[(i)]
\item Los cortes fundamentales y los ciclos fundamentales de $G$ respecto de $T$ forman bases de $\mathcal{B}(G)$ y $\mathcal{C}(G)$, respectivamente.
\item Consecuentemente,
$$
\dim \mathcal{B}(G) = n-1 \quad \text{y} \quad \dim \mathcal{C}(G) = m - n + 1.
$$
\end{enumerate}
\end{theorem}
\begin{proof}
\begin{enumerate}[(i)]
\item Notemos que toda arista $f \in T$ yace en $D_f$, pero ningún otro corte fundamental lo hace (estas son aristas de $T$), mientras que una arista $e \not \in T$ yace en $C_e$, pero no en otro ciclo fundamental (este ciclo está construido con una sola arista fuera de $T$).
Es decir, dado un conjunto arbitrario de cortes fundamentales $\{ D_{f_1}, \ldots, D_{f_r}\}$, se tiene que
$$
\sum_{i = 1}^r D_{f_i} \neq \emptyset.
$$
Análogamente, lo mismo sucede para un conjunto de ciclos fundamentales $\{ C_{e_1}, \ldots, C_{e_s} \}$.
Consecuentemente, los cortes fundamentales y los ciclos fundamentales son, respectivamente, conjuntos linealmente independientes en $\mathcal B = \mathcal B (G)$ y $\mathcal C  = \mathcal C (G)$.

Veamos ahora que los ciclos fundamentales generan a un ciclo $C$ arbitrario. Consideremos
$$
D := C + \sum_{e \in C \setminus T} C_e,
$$
es decir, a $C$ le estamos quitando todas las aristas fuera de $T$; $D$ pertenece a $\mathcal C$, y no contiene ningúna arista fuera de $T$, i.e. está contenido en $T$. Pero por el ítem 2. de la Proposición \ref{proposition:apendice - definiciones equivalentes de elemento del subespacio de ciclos}, los elementos de $\mathcal C$ son unión disjunta de ciclos, sin embargo, $T$ es aciclico, o sea, $D = \emptyset$. En particular, $C = \sum_{e \in C \setminus T} C_e$.

Similarmente, todo corte $D$ es la suma de cortes fundamentales. En efecto, el elemento $D + \sum_{f \in D \cap T} D_f$ de $\mathcal B$ no contiene aristas en $T$, pues si $f$ es una arista de $T$, o está en $D$ y en un único $D_f$, o no está en $D$ y no está en ningún $D_f$. Ahora bien, tampoco puede contener aristas fuera de $T$, ya que de lo contrario, existiría un ciclo fundamental $C_e$ con $e \in D + \sum_{f \in D \cap T} D_f$, pero entonces el Teorema \ref{th:apendice subespacio de ciclos y subespacio de cortes son mutuamente ortogonales entre si} implica que $C_e$ interseca una cantidad par de veces este conjunto, es decir, contiene al menos una arista de $C_e \setminus \{ e\} \subset T$, absurdo. En resumen, no hay aristas en este conjunto, y por ende $D = \sum_{f \in D \cap T} D_f$.
\item Por un lado hay $n-1$ cortes fundamentales, pues hay uno por cada arista del árbol generador $T$ de $G$, el cual tiene $n$ vértices (cf. \ref{corolario:todo grafo conexo de n vertices es un arbol si y solo si tiene n-1 aristas}). Por otro lado, como $\mathcal C (G) = \mathcal B (G)^\perp$ por el Teorema \ref{th:apendice subespacio de ciclos y subespacio de cortes son mutuamente ortogonales entre si}, la Ecuación \eqref{eq:formula de la dimension para los subsespacios ortogonales de E(G)} implica que $\dim \mathcal C (G) = m-n+1$.
\end{enumerate}
\end{proof}


\begin{definition}
    La \textbf{matriz de incidencia} $B = (b_{ij})_{n \times m} \in \mathbb{F}_2^{n\times m}$ de un grafo $G = (V,E)$
    con $V = \{ v_1
    ,\ldots, v_n\}$ y $E = \{e_1,\ldots,e_m\}$ está dada por
    \[
        b_{ij} := \begin{cases}
                    1 & \text{ si $v_i \in e_j$}\\
                    0 & \text{ si no.}
                    \end{cases}
    \]
    Luego las matrices $B$ y $B^t$ definen las transformaciones lineales
    \[
        B : \mathcal E (G) \rightarrow \mathcal V (G) \quad \text{y} \quad B^t : \mathcal V (G) \rightarrow \mathcal E (G),
    \]
    definidas respecto de las bases standard.
\end{definition}

\begin{obs}
La transformación $B$ manda conjuntos de aristas $F \subset E$ en al conjunto de vértices incidentes en un número
impar de aristas de $F$. Mientras que $B^t$ manda un conjunto de vértices $U \subset V$ en el conjunto de aristas
con exactamente un solo extremo en $U$.
\end{obs}

Consecuentemente, obtenemos el siguiente corolario:

\begin{corollary}
\begin{enumerate}[(i)]
\item El núcleo de $B$ es $\mathcal C(G)$.
\item La imagen de $B^t$ es $\mathcal B (G)$.
\end{enumerate}
\end{corollary}
\begin{proof}
\begin{enumerate}[(i)]
\item $C \in \Ker B$ si y solo si todos los vértices de $G$ tienen un número par de aristas incidentes en $C$, es
decir $(G,C)$ tiene todos sus vértices de grado par, luego la Proposición \ref{proposition:apendice - definiciones equivalentes de elemento del subespacio de ciclos} prueba lo deseado.
\item Sea $U \subset V$, entonces $B^t (U) = F$ es el conjunto de aristas con exactamente un extremo en $U$, es decir, $F = E(U, V \setminus U)$ es un corte.
\end{enumerate}
\end{proof}


\begin{definition}
La \textbf{matriz de adyasencia} $A = (a_{ij})_{n \times n} \in \mathbb{F}_2^{n \times n}$ de $G$ está dada por
\[
    a_{ij} := \begin{cases}
            1 & \text{ si $v_{i} v_j \in E$}\\
            0 & \text{ si no.}
                \end{cases}
\]
\end{definition}

\begin{obs}
Esta matriz es simétrica. Además, se puede ver como una transformación lineal $A : \mathcal V (G) \rightarrow \mathcal V (G)$, que manda subconjuntos de vértices $U \subset V$ al conjunto de vértices con un número impar de vecinos en $U$.
\end{obs}

Denotemos por $D$ a la matriz \textit{real} diagonal $(d_{ij})_{n \times n} \in \reals^{n \times n}$ con $d_{ii} = d_G(v_i)$. Nuestra última proposición establece una conexión entre $A$ y $B$ vistas como matrices reales:

\begin{proposition}
$$
B \cdot B^t = A + D.
$$
(Sigue valiendo módulo $2$).
\end{proposition}
\begin{proof}
La demostración es solamente una cuenta elemental entre matrices reales.
\end{proof}

\section[]{Otras nociones sobre grafos}

\begin{definition}
Un \textbf{hipergrafo} es un par $(V,E)$ de conjuntos disjuntos, donde los elementos de $E$ son subconjuntos no vac
íos (de cualquier cardinalidad) de $V$. Con lo cual, los grafos son un caso particulara de los hipergafos.
\end{definition}

\begin{definition}
    Un \textbf{grafo dirigido} o \textbf{digrafo} es un par $(V,E)$ de conjuntos disjuntos de vértices y aristass,
    junto con dos funciones $\operatorname{init}: E \rightarrow V$ y $\operatorname{ter} : E \rightarrow V$ que
    mandan una arista $e$ en un \textbf{vértice inicial} $\operatorname{init}(e)$ y en un \textbf{vérticce terminal} $\operatorname{ter}(e)$. La arista $e$ se dice \textbf{dirigida desde $\operatorname{init}(e)$ hasta $\operatorname{ter}(e)$}.
\end{definition}
Notar que un grafo dirigido puede tenenr varias aristas entre dos vértices $x,y$. Estas aristas se llaman \textbf{
aristas múltiples}; si tienen la misma dirección, digamos de $x$ a $y$, se dicen \textbf{paralelas}. Si $\operatorname{init}(e) = \operatorname{ter}(e)$, decimos que $e$ es un \textbf{bucle}.

Un grafo dirigido $D$ es una \textbf{orientación} de un grafo (sin dirigir) $G$ si $V(D) = V(G) $ y $E (D) = E(G)$, y
 además $\{ \operatorname{init}(e), \operatorname{ter}(e)= \{x,y\}$ para toda ariwstas $e = xy$. Intuitivamente, este \textbf{grafo orientado} surge de un grafo sin dirigir simplemente luego de darle una orientación a cada arista de $G$, desde uno de sus extremos hasta el otro. En particular, los grafos orientados son grafos dirigidos sin bucles ni aristas multiples.

 \begin{definition}
     Un \textbf{multigrafo} es un par $(V,E)$ de conjuntos disjuntos de vértices y aristas con una función $E \rightarrow V \cup [V]^2$ que le asigna a cada arista uno o dos vértices a sus extremos.
 \end{definition}
Por lo tanto, los multigrafos pueden tener bucles y aristas multiples: podemos pensar a los multigrafos como grafos
dirigidos, donde las direcciones de sus aristas fueron eliminadas. Para expresar que $x$ e $y$ son los extremos de
una arista $e$, escribimos $e = xy$, sin embargo esta escritura no siempre es única!

Un grafo es entonces un multigrafo sin bucles ni aristas múltiples. De manera sorprendente, a veces probar un teorema
 para grafos es más díficil que probar para multigrafos. Más aún, existen áreas de la teoría de grafos donde los
 multigrafos surgen de manera más natural que los grafos, y donde restringirse a estos últimos resulta artificial y
 más complicado (por ejemplo dualidad de planos). Para multigrafos usaremos la misma terminología que vimos para
 grafos, pues estas definiciónes se trasladan de manera obvia. Por ejemplo, ver la Figura \ref{Fig 2 - Apendice 1}.

\begin{center}
\begin{figure}
\input{"./Apendice/Figuras/Capitulo
    1/Dibujo 2.pdf_tex"}
\caption{Contracción de la arista $e$ en un multigrafo $G$.}
\end{figure}
\label{Fig 2 - Apendice 1}
\end{center}

De todas maneras, cabe resaltar algunas diferencias. Un multigrafo puede tener ciclos de longitud $1$ o $2$: los
bucles, y los pares de aristas de aristas múltliples o las \textbf{aristas doble}. Un bucle en un vértice vuelve a su
 vértice su propio vecino, con lo cual en la figura anterior tenemos que $d_{G/e} (v_e) = 6$, o sea que también
 contamos a un vecinos multiples veces, una por cada aristas que compartan ambos vértices! Los extremos de los bucles
  y de las aristas paralelas en un multigrafo $G$, se consideran separadoras de esta aristas del resto de $G$. El
  vértice $v$ de un bucle $e$, es entonces un vértice de corte, a menos que $(\{v\}, \{e\})$ sea una componente de $G$, con lo cual $(\{v\}, \{e\})$ es un bloque. En efecto, un vértice de corte $v$ es aquel que separa dos vértices $x,y$, i.e. todos los $x,y$-caminos pasan por $v$ pero en un multigrafo podemos considerar $x=v=y$. Entonces un multigrafo con un bucle nunca es $2$-conexo, y todo multigrafo $3$-conexo es de hecho un grafo.

La noción de arista contracción es mucho más simple en multigrafos que en grafos: si contraemos una arista $e = xy$
en un multigrafo $G=(V,E)$ a un vértice $v_e$, entonces ya no necesitamos borrar cualquier arista distinta de $e$:
las aristas paralelas a $e$ se convierten en bucles de $v_e$, mientras que las aristas $xv$ e $yv$ se vuelven aristas
 paralelas entre $v_e$ y $v$ (ver la figura anterior). Formalmente, $E(G/e) = E \setminus \{e\}$, y solamente debemos
  modificar al \textbf{mapa de incidencia} $e' \mapsto \{ \operatorname{init}(e'), \operatorname{ter}(e')\}$ de $G$
  para ajustarse a los vértices de $G/e$. Contraer un bucle es, por lo tanto, lo mismo que eliminarlo.

  La noción de menor se adapta de manera acorde. La menor de contracción $G/P$ definida a partir de unapartición $P$
  de $V(G)$ en conjuntos conexos tiene precisamente las aristas de $G$ que unen dos particiones distintas. Si hay
  varias aristas entre dos de estos conjuntos, entonces se convierten en aristas paralelas de $G/P$. Sin embargo,
  normalmente no le daremos a $G/P$ bucles provenientes de aristas de $G$ cuyos extremos yacen en la mismo conjunto
  conexo de la partición.

  Si $v$ es un vértice de grado $2$ en un multigrafo $G$, luego \textbf{suprimir} $v$ significa quitarlo y agregar
  una arista entre sus dos vecinos. (Si dos aristas incidentes son identicas, i.e. forman un bucle en $v$, no
  agregamos ninguna arista y solo obtenemos $G \setminus v$. Si ambas aristas van al mismo vértice $w \neq v$, la
  arista agregada será entonces un bucle en $w$. Ver la Figura \ref{Fig 2 - Apendice 1}.) Como los grados de todos los vértices
  distintos de $v$ permanecen inmutados cuando $v$ es suprimido, suprimir varios vértices de $G$ siempre nos dará un
  multigrafo bien definido, que es independiente del orden escogido para suprimir los vértices.

  En cuanto a terminología, algunos autores se refieren a los multigrafos como grafos; en este contexto nuestros
  grafos serían llamados \textbf{grafos simples}.







\chapter{Orden parcial completo-dirigido y teorema del punto fijo de Kleene}\label{apendice:orden parcial completo
-dirigido y teorema del punto fijo de Kleene}

Este capítulo del apéndice fue creado con la esperanza de poder resolver el Ejercicio \ref{ejercicio:todo automorfismo de un arbol tiene un vertice o arista fijos}, pero este no se pudo resolver así, pues considerar
 un morfismo de grafos $f : T \rightarrow T$ no tiene por qué ser Scott continua con el $r$-orden de árbol de $
 T \ni r$. Y de hecho, el ejercicio de pudo resolver muy fácilmente haciendo inducción y considerando
 brillantemente el morfismo $f : L(T) \rightarrow L(T)$.

\begin{definition}
    Un \textbf{orden parcial completo-dirigido}, o \textbf{opcd} es un orden parcial donde todo subconjunto
    dirijido $D$ (es
    decir, es no vacío y para todo $x,y \in D$ existe $z \in D$ tal que $x,y \leq z$) tiene supremo.
\end{definition}

A un orden parcial (en particular a un opcd) se le puede dar la \textbf{topología Scott} en la cual los abiertos son los subconjuntos $S$ cerrados
superiormente (recordemos que
esto era cuando $S$ coincidía con
 la unión de los $\ceil x$ con $x \in S$) e \textbf{inaccesibles por supremos de subconjuntos dirigidos}, es
  decir, si todos los subconjuntos dirigidos $D$ con supremo $\sup (D) \in S$ intersecan a $S$. Con esta
  topología podemos definir las funciones continuas entre dos ordenes parciales $A,B$:

  \begin{definition}
  Una función $f : A \rightarrow B$ se dice \textbf{Scott continua} si es continua con la topología de Scott
  en $A$ y $B$.
  \end{definition}

  \begin{lemma}
  Sea $f: A \rightarrow B$ una función entre dos conjuntos ordenados $A,B$. Luego $f$ es Scott continua si y
  solo si
  preserva
  supremos de subconjuntos dirigidos.
  \end{lemma}
  \begin{proof}
  \begin{enumerate}[(i)]
  \item[($\Rightarrow$)] Notemos que $f$ es mónotona creciente. En efecto, sean $x \leq x' \in A$, supongamos
  que $f(x) \not \leq f(x')$. Consideremos el conjunto $U = B \setminus \floor{f(x')}$, el cual es un Scott
  abierto (fácil de verificar), más aún $f(x) \in U$. Como $f$ es Scott continua, tenemos que $f^{-1} (U)$ es
   Scott abierto de $A$, y notemos que $x \in f^{-1} (U)$. Pero $x' \geq x$, luego debe ser que $x' \in f^{-1} (U)$, i.e. $f(x') \in U$ absurdo! O sea que $f$ es monótona creciente. Sea $d = \sup D$ con $D$ un subconjunto dirigido de $A$. Por un lado, $a \leq d $ para todo $a \in D$ implica que $f(d) \geq b$ para todo $b \in f(D)$. Por otro lado, si $c \in B$ es tal que $c \geq f(a)$ para todo $a \in D$, debe ser que $c \geq f(d)$. En efecto, si esto no fuera cierto, tendríamos que $f(d) \in U := B \setminus \floor{c}$ Scott abierto y por continuidad de $f$ se sigue que $d$ pertenece al Scott abierto $f^{-1} (U) \subset A$. Con lo cual, como $d$ es el supremo del conjunto dirigido $D$, tenemos que existe $a' in D$ tal que $a' \in f^{-1} (U)$, i.e. $f(a') \in U$ con $a' \in D$ absurdo! Esto dice que $f(d) = \sup f(D)$.
  \item[($\Leftarrow$)] Notar que $f$ es monótona creciente, pues si $x \leq x'$ entonces $f(x') = f(\sup \{ x,
  x'\}) = \sup \{f(x),f(y)\}$, con lo cual $f(x') \geq f(x)$. Esto implica muy facilmente que $f$ es Scott continua.
  \end{enumerate}
  \end{proof}
  Notar que en la demostración anterior vimos que las funciones Scott continuas son monótona crecientes.

  \begin{definition}
  Sea $m$ un elemento mínimo de un conjunto ordenado. Una \textbf{cadena ascendente de
      Kleene} de $f$, es la cadena
      \[
          m \leq f(m) \leq f(f(m)) \leq f(f(f(m))) \leq \cdots
      \]
  \end{definition}

  \begin{theorem}[Teorema del punto fijo de Kleene]
  Sea $T$ un opcd con un mínimo $m$, y sea $f: T \rightarrow T$ una función Scott continua (y en particular mon
  ótona).
   Entonces $f$ tiene un \textbf{mínimo punto fijo}, es decir, el conjunto de puntos fijos de $f$ es no vac
   ío y tiene un elemento mínimo. Más aún, este elemento mínimo es el supremo de una cadena ascendente de
   Kleene de $f$.
  \end{theorem}
  \begin{proof}
    Consideremos la cadena ascendente de $Kleene$ inducida por $m$. Este es un conjunto dirigido, pues es una
     cadena. Luego como $T$ es un opcd tiene un supremo, digamos $s$. Tenemos que probar que $s$ es un punto
     fijo de $f$ y que efectivamente es el mínimo de todos los puntos fijos. Por un lado, como $f$ es Scott
     continua, el lema anterior nos dice que $f(s) = \sup_{i \geq 1} {f^i(m)}$, pero $\sup_{i \geq 1} {f^i(m)} = \sup_{i \geq 0} {f^i(m)}$, es decir $s$ es un punto fijo de $f$. Por otro lado, si $s'$ es un punto fijo de $f$, tenemos que $s' \geq f^i(m)$ para todo $i\geq 0$, con lo cual $s' \geq s$ porque $s$ es el supremo de la cadena. En efecto, vale para $i= 0$, luego por inducción supongamos que $s' \geq f^{i} (m)$ entonces como $f$ es monótona creciente $f(s')$, tenemos que $s' = f(s') \geq f(f^i(m)) = f^{i+1} (m)$.
  \end{proof}


\comentario{DEMOSTRACIÓN ERRONEA}
\begin{corollary}
    Todo automorfismo de un árbol fija un vértice o una arista.
\end{corollary}
\begin{proof}
Sea $T$ un árbol y $r \in T$ una raíz. Consideremos el orden parcial inducido por la raíz en $T$. Notar que $
r$ es el mínimo de $T$ y que todo subconjunto dirigido de $T$ tiene supremo porque $T$ es un orden parcial en
 un conjunto finito. O sea que $T$ es un opcd. Análogamente, podemos considerar el orden de raíz de $T$
 respecto de $f(r)$. Ahora, un morfismo de grafos $f : T \rightarrow T$, es una función entre dos opcds
 considerando el $r$-orden del dominio y el $f(r)$-orden en el codominio. Afirmamos que $f$
 es Scott continua. En efecto, por el lema anterior, esto equivale a probar que preserva el supremo de
 subconjuntos dirigidos. Sea $D \subset T$ dirigido y $s = \sup D$ (como $T$ es finito $s \in D$); tenemos
 que $D$ es el camino $xTd$ (pensando en el $r$-orden: $x \leq d$) para el mínimo en $D$, pues todos
 los
 elementos de $D$ son
 comparables.
 Con lo
 cual, como $f$ es morfismo de grafos, preserva la adyacencia de aristas, luego manda caminos en caminos,
 pero entonces $f(D) = f(xTd) =f(x) T f(d) $ (pensando en el $f(r)$-orden: $f(x) \leq f(d)$), i.e. $f(d)$ es
 el supremo (máximo) de $f(D)$ en el $f(r)$-orden.

 Por el Teorema del punto fijo de Kleen, existe en particular un punto fijo de $T$.
\end{proof}

























\end{document}